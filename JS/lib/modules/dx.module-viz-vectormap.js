/*! 
* DevExtreme (Vector Map)
* Version: 14.1.4
* Build date: Jun 11, 2014
*
* Copyright (c) 2012 - 2014 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!DevExpress.MOD_VIZ_VECTORMAP){if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n,t,i){function l(n,t){n.data("index",t)}function r(n){return n.data("index")}function a(){var n=this._projection;n.snapCenter().snapZoom().setCenter(null).setZoom(null),this._applyTransform(n.isZoomChanged()),n.isCenterChanged()&&this._raiseCenterChanged(),n.isZoomChanged()&&this._raiseZoomFactorChanged()}function v(){this._projection.snapCenter()}function y(){this._projection.isCenterChanged()&&this._raiseCenterChanged()}function p(n,t){this._projection.moveCenter(n,t),this._applyTransform()}function w(n,t,r){var u=this,o=t!==i&&r!==i,s,f;o&&(f=e(u._renderer),f=[t-f.left,r-f.top],s=u._projection.fromScreenPoint(f[0],f[1])),u._projection.snapZoom().setScaledZoom(n),u._projection.isZoomChanged()&&(o&&u._projection.snapCenter().setCenterByPoint(s,f),u._applyTransform(!0),u._raiseZoomFactorChanged(),o&&u._projection.isCenterChanged()&&u._raiseCenterChanged())}function b(n){n.data=(r(n.$target)||{}).index,this._controlBar.processStart(n)}function k(n){n.data=(r(n.$target)||{}).index,this._controlBar.processMove(n)}function d(n){n.data=(r(n.$target)||{}).index,this._controlBar.processEnd(n)}function g(n){this._controlBar.processZoom(n)}function nt(n){var t=r(n.$target)||{};switch(t.type){case"area":this._areasManager.hoverItem(t.index,!0);break;case"marker":this._markersManager.hoverItem(t.index,!0)}}function tt(n){var t=r(n.$target)||{};switch(t.type){case"area":this._areasManager.hoverItem(t.index,!1);break;case"marker":this._markersManager.hoverItem(t.index,!1)}}function it(n){var u=e(this._renderer),i=r(n.$target)||{},t=n.$event;t.x=n.x-u.left,t.y=n.y-u.top;switch(i.type){case"area":this._areasManager.raiseClick(i.index,t);break;case"marker":this._markersManager.raiseClick(i.index,t)}this._raiseClick(t)}function rt(n){var t=r(n.$target)||{},i;switch(t.type){case"area":i=this._areasManager.getProxyItem(t.index);break;case"marker":i=this._markersManager.getProxyItem(t.index)}return this._tooltip.prepare(i,{offset:12})}function ut(){this._tooltip.show()}function ft(n){var t=e(this._renderer);this._tooltip.move(n.x-t.left,n.y-t.top)}function et(){this._tooltip.hide()}var o,s;n.viz.map={};var u=window.Number,f=n.utils.isFunction,e=n.utils.getRootOffset,h=800,c=400;n.viz.map.Map=n.viz.core.BaseWidget.inherit({_init:function(){var n=this;n.callBase.apply(n,arguments),n.renderer=n._renderer=n._factory.createRenderer({width:1,height:1,pathModified:n.option("pathModified"),rtl:n.option("rtlEnabled")}),n.renderer.draw(n._element().get(0)),n._themeManager=n._factory.createThemeManager(),n._projection=n._factory.createProjection(),n._tracker=n._factory.createTracker(),n._root=n._renderer.getRoot(),n._root.applySettings({"class":"dxm",stroke:"none",strokeWidth:0,fill:"none",align:"center",cursor:"default",style:{overflow:"hidden"}}),n._background=n._renderer.createRect(0,0,0,0,0,{"class":"dxm-background"}),n._tracker.attachRoot(n._root),n._tracker.setCallbacks(n,{start:b,move:k,end:d,zoom:g,"hover-on":nt,"hover-off":tt,click:it,"tooltip-check":rt,"tooltip-show":ut,"tooltip-move":ft,"tooltip-hide":et}),n._areasManager=n._factory.createAreasManager({container:n._root,renderer:n._renderer,projection:n._projection,themeManager:n._themeManager,tracker:n._tracker,ready:function(){n.hideLoadingIndicator()}}),n._areasManager.setData(n.option("mapData")),n._markersManager=n._factory.createMarkersManager({container:n._root,renderer:n._renderer,projection:n._projection,themeManager:n._themeManager,tracker:n._tracker}),n._markersManager.setData(n.option("markers")),n._controlBar=n._factory.createControlBar({container:n._root,renderer:n._renderer,context:n,resetCallback:a,beginMoveCallback:v,endMoveCallback:y,moveCallback:p,zoomCallback:w}),n._legend=n._factory.createLegend({container:n._root,renderer:n._renderer,themeManager:n._themeManager}),n._tooltip=n._factory.createTooltip({container:n._root,renderer:n._renderer,tracker:n._tracker}),n._projection.setBounds(n.option("bounds")).setMaxZoom(n.option("maxZoomFactor")).setZoom(n.option("zoomFactor")).setCenter(n.option("center")),n._themeManager.setTheme(n.option("theme")),n._themeManager.patchRtlSettings(n.option("rtlEnabled")),n._setClickCallback(n.option("click")),n._setCenterChangedCallback(n.option("centerChanged")),n._setZoomFactorChangedCallback(n.option("zoomFactorChanged"))},_dispose:function(){var n=this;n.callBase.apply(n,arguments),n._themeManager.dispose(),n._tracker.detachRoot(),n._areasManager.dispose(),n._markersManager.dispose(),n._controlBar.dispose(),n._legend.dispose(),n._tooltip.dispose(),n._renderer.dispose(),n._tracker.dispose(),n._disposeLoadIndicator(),n._renderer=n._themeManager=n._projection=n._tracker=n._root=n._background=n._areasManager=n._markersManager=n._controlBar=n._legend=n._tooltip=n._centerChangedCallback=n._zoomFactorChangedCallback=null},_adjustSize:function(n){var t=this,e=t.option("size")||{},r=e.width>=0?u(e.width):t._element().width(),f=e.height>=0?u(e.height):t._element().height(),o=!1,s;return(r===0&&(u(e.width)===0?o=!0:r=h),f===0&&(u(e.height)===0?o=!0:f=c),o||!t._element().is(":visible"))?(t._incidentOccured("W2001",[t.NAME]),t._width=t._height=0,!1):(s=t._width!==r||t._height!==f||n,s&&(t._width=r,t._height=f,t._renderer.resize(r,f),t._projection.setSize(r,f),t._applyTransform(),t._legend.applyLayout(r,f),t._tooltip.setSize(r,f),t._background.applySettings({x:0,y:0,width:r,height:f}),t._updateLoadIndicator(i,r,f)),s)},_clean:function(){var n=this;n._background.detach(),n._areasManager.clean(),n._markersManager.clean(),n._controlBar.clean(),n._legend.clean(),n._tooltip.clean(),n._tracker.clean()},_render:function(){var n=this;n._adjustSize(!0)&&(n._tooltip.update(n._themeManager.getTooltipSettings(n.option("tooltip"))),n._tracker.setOptions(n.option("interaction"),n._tooltip.enabled()),n._controlBar.setZoomPartition(n._projection.getZoomScalePartition()).setZoom(n._projection.getScaledZoom()).setOptions(n._themeManager.getControlBarSettings(n.option("controlBar")),n.option("interaction")),n._background.applySettings(n._themeManager.getBackgroundSettings(n.option("background"))),n._background.append(n._root),n._areasManager.render(n.option("areaSettings")),n._markersManager.render(n.option("markerSettings")),n._controlBar.render(),n._legend.render(n._themeManager.getLegendSettings(n.option("legend"))),n._tooltip.render(),n._tracker.render(),n._drawn())},_optionChanged:function(n,t){var i=this;switch(n){case"theme":i._themeManager.setTheme(t),i._themeManager.patchRtlSettings(i.option("rtlEnabled")),i._invalidate();break;case"click":i._setClickCallback(t);break;case"centerChanged":i._setCenterChangedCallback(t);break;case"zoomFactorChanged":i._setZoomFactorChangedCallback(t);break;case"mapData":i._areasManager.setData(t);break;case"markers":i._markersManager.setData(t);break;case"bounds":i._projection.setBounds(t),i._invalidate();break;case"maxZoomFactor":i._projection.setMaxZoom(t),i._invalidate();break;case"zoomFactor":i._updateZoomFactor(t);break;case"center":i._updateCenter(t);break;default:i.callBase.apply(i,arguments)}},_getLoadIndicatorOption:function(){return this._themeManager.getLoadIndicatorSettings(this.option("loadingIndicator"))},_setClickCallback:function(n){this._clickCallback=f(n)?n:null},_setCenterChangedCallback:function(n){var t=this;t._centerChangedCallback=f(n)?function(){t._centerChangedCallback&&n.call(t,t._projection.getCenter())}:null},_setZoomFactorChangedCallback:function(n){var t=this;t._zoomFactorChangedCallback=f(n)?function(){t._zoomFactorChangedCallback&&n.call(t,t._projection.getZoom())}:null},_raiseClick:function(n){var t=this;t._clickCallback&&setTimeout(function(){t._clickCallback&&t._clickCallback.call(t,n)},0)},_raiseCenterChanged:function(){this._centerChangedCallback&&setTimeout(this._centerChangedCallback,0)},_raiseZoomFactorChanged:function(){this._zoomFactorChangedCallback&&setTimeout(this._zoomFactorChangedCallback,0)},_updateCenter:function(n,t){this._projection.snapCenter().setCenter(n),this._projection.isCenterChanged()&&(this._applyTransform(),t||this._raiseCenterChanged())},_updateZoomFactor:function(n,t){var i=this;i._projection.snapZoom().setZoom(n),i._projection.isZoomChanged()&&(i._controlBar.setZoom(i._projection.getScaledZoom()),i._applyTransform(!0),t||i._raiseZoomFactorChanged())},_updateViewport:function(n,t){var i=this;i._projection.snapCenter().snapZoom().setViewport(n),i._applyTransform(i._projection.isZoomChanged()),i._projection.isCenterChanged()&&(t||i._raiseCenterChanged()),i._projection.isZoomChanged()&&(i._controlBar.setZoom(i._projection.getScaledZoom()),t||i._raiseZoomFactorChanged())},_resize:function(){this._adjustSize()&&(this._applyTransform(),this._areasManager.redraw(),this._markersManager.redraw())},_applyTransform:function(n){var t=this,i=t._projection.getTransform();t._areasManager.transform(i),t._markersManager.transform(i),n&&(t._areasManager.redraw(),t._markersManager.redraw())},_refresh:function(){var n=this,t=n.callBase;n._endLoading(function(){t.call(n)})},render:function(n){return n==="resize"?this._resize():this._refresh(),this},getAreas:function(){return this._areasManager.getProxyItems()},getMarkers:function(){return this._markersManager.getProxyItems()},clearAreaSelection:function(n){return this._areasManager.clearSelection(n),this},clearMarkerSelection:function(n){return this._markersManager.clearSelection(n),this},clearSelection:function(n){return this.clearAreaSelection(n).clearMarkerSelection(n)},center:function(n,t){return n===i?this._projection.getCenter():(this._updateCenter(n,t),this)},zoomFactor:function(n,t){return n===i?this._projection.getZoom():(this._updateZoomFactor(n,t),this)},viewport:function(n,t){return n===i?this._projection.getViewport():(this._updateViewport(n,t),this)},convertCoordinates:function(n,t){return this._projection.fromScreenPointStrict(n,t)},showLoadingIndicator:function(){this._showLoadIndicator(this._themeManager.getLoadIndicatorSettings(this.option("loadingIndicator")),{width:this._width,height:this._height})},_factory:{createRenderer:function(t){return new n.viz.renderers.Renderer(t)},createTooltip:function(n){return new o(n)},createLegend:function(n){return new s(n)}}}),o=n.viz.core.Tooltip.inherit({ctor:function(n){var t=this;t._container=n.container,t._root=n.renderer.createGroup({"class":"dxm-tooltip"}),t.callBase(null,t._root,n.renderer),t._tracker=n.tracker,t._enabled=!1},dispose:function(){var n=this;return n._container=n._root=n._tracker=null,n.callBase.apply(n,arguments)},clean:function(){return this._root.detach(),this},render:function(){return this._root.append(this._container),this}}),s=n.viz.core.Legend.inherit({ctor:function(n){var t=this;t._container=n.container,t._root=n.renderer.createGroup({"class":"dxm-legend"}),t._themeManager=n.themeManager,t.callBase(null,null,n.renderer,t._root)},dispose:function(){var n=this;return n._container=n._root=n._themeManager=null,n.callBase.apply(n,arguments)},clean:function(){return this._root.detach(),this},render:function(n){for(var t=this,r=[],i=0,u=n.items?n.items.length:0;i<u;++i)r.push(t._themeManager.getLegendItemSettings(n.items[i]||{}));return t.update(r,n),t._root.append(t._container),t.applyLayout(t._size.width,t._size.height)},applyLayout:function(n,t){var r=this,i,u,f;return r.setSize({width:n,height:t}),r.draw(),i=r.getLayoutOptions(),i&&(u=i.horizontalAlignment==="left"?i.horizontalIndent:i.horizontalAlignment==="center"?n/2-i._width/2:n-i._width-i.horizontalIndent,f=i.verticalAlignment==="top"?i.verticalIndent:t-i._height-i.verticalIndent,r.locate(u,f)),r}}),n.viz.map._utils={getElementData:r,setElementData:l},n.registerComponent("dxVectorMap",n.viz.map.Map),n.viz.map.sources={}})(DevExpress,jQuery),function(n){function p(n,t){return c(n-t)<1e-8}function tt(n){return n.slice()}function r(n,t,i,r){var u=h(n);return u<t?u=t:u>i?u=i:t<=u&&u<=i||(u=r),u}function it(n,t,i){return[[r(n[0],t[0],i[0],t[0]),r(n[1],t[1],i[1],i[1]),],[r(n[2],t[0],i[0],i[0]),r(n[3],t[1],i[1],t[1])]]}function u(){for(var n=0,i=arguments.length,t;n<i;++n)if(rt(t=h(arguments[n])))return t;return NaN}var h=Number,rt=isFinite,w=Math.min,e=Math.max,c=Math.abs,ut=Math.tan,ft=Math.atan,et=Math.exp,f=Math.round,o=Math.log,ot=Math.pow,b=n.utils.isArray,st=n.viz.renderers.buildPath,s=Math.PI,k=s/4,d=s/360,ht=2/Math.LN2,g=1,nt=256,l=-180,a=180,v=-85.0511,y=85.0511,i={min:[l,v],max:[a,y],aspectRatio:1,project:function(n){var t=n[0],i=n[1];return[t<=l?-1:t>=a?1:t/180,i<=v?1:i>=y?-1:-o(ut(k+i*d))/s]},unproject:function(n){var t=n[0],i=n[1];return[t<=-1?l:t>=1?a:180*t,i<=-1?y:i>=1?v:(ft(et(-s*n[1]))-k)/d]}},ct=n.Class.inherit({ctor:function(){var n=this;n.setBounds(null),n._minZoom=g,n._maxZoom=nt,n._zoom=n._minZoom},setSize:function(n,t){var r=this;return r._width=n,r._height=t,r._x0=r._width/2,r._y0=r._height/2,r._xradius=r._yradius=r._height/r._width<i.aspectRatio?r._y0:r._x0,r},_createBoundedProjectUnproject:function(n,t,r){this._minv=[n*(-1-t)-1,n*(-1-r)-1],this._maxv=[n*(1-t)-1,n*(1-r)-1],this._project=function(u){var f=i.project(u);return[-1+(f[0]-t)*n,-1+(f[1]-r)*n]},this._unproject=function(u){var f=[t+(u[0]+1)/n,r+(u[1]+1)/n];return i.unproject(f)}},setBounds:function(n){var f,o;n=n||[];var t=this,l=it([u(n[0],n.minLon),u(n[1],n.maxLat),u(n[2],n.maxLon),u(n[3],n.minLat)],i.min,i.max),s=i.project(l[0]),h=i.project(l[1]),r=e(c(h[0]-s[0]),c(h[1]-s[1]));return r<2?(f=(s[0]+h[0])/2,o=(s[1]+h[1])/2,t._minBound=i.unproject([f-r/2,o+r/2]),t._maxBound=i.unproject([f+r/2,o-r/2]),t._defaultCenter=i.unproject([f,o]),t._createBoundedProjectUnproject(2/r,f-r/2,o-r/2)):(t._minBound=tt(i.min),t._maxBound=tt(i.max),t._minv=[-1,-1],t._maxv=[1,1],t._defaultCenter=i.unproject([0,0]),t._project=i.project,t._unproject=i.unproject),t.setCenter(t._defaultCenter)},_toScreen:function(n){return[this._x0+this._xradius*n[0],this._y0+this._yradius*n[1]]},_fromScreen:function(n){return[(n[0]-this._x0)/this._xradius,(n[1]-this._y0)/this._yradius]},_toTransformed:function(n){return[n[0]*this._zoom+this._dxcenter,n[1]*this._zoom+this._dycenter,]},_toTransformedFast:function(n){return[n[0]*this._zoom,n[1]*this._zoom]},_fromTransformed:function(n){return[(n[0]-this._dxcenter)/this._zoom,(n[1]-this._dycenter)/this._zoom]},_adjustCenter:function(){var n=this,t=n._project(n._center);n._dxcenter=-t[0]*n._zoom,n._dycenter=-t[1]*n._zoom},projectArea:function(n){for(var r=0,o=b(n)?n.length:0,t,i,f,u,e=[];r<o;++r){for(t=n[r],u=[],i=0,f=b(t)?t.length:0;i<f;++i)u.push(this._project(t[i]));e.push(u)}return e},projectPoint:function(n){return n?this._project(n):[]},getAreaCoordinates:function(n){for(var i=0,s=n.length,r,t,e,o=[],u,f;i<s;++i){for(r=n[i],u=[],t=0,e=r.length;t<e;++t)f=this._toScreen(this._toTransformedFast(r[t])),u.push(f[0],f[1]);o.push(st(u))}return o.join(" ")},getPointCoordinates:function(n){var t=this._toScreen(this._toTransformedFast(n));return{x:f(t[0]),y:f(t[1])}},getZoom:function(){return this._zoom},setZoom:function(n){var t=this;return t._zoom=r(n,t._minZoom,t._maxZoom,t._minZoom),t._adjustCenter(),t},getScaledZoom:function(){return f((this._scale.length-1)*o(this._zoom)/o(this._maxZoom))},setScaledZoom:function(n){return this.setZoom(this._scale[f(n)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var n=this,t=f(ht*o(n._maxZoom));t=t>4?t:4;var u=ot(n._maxZoom,1/t),i=n._minZoom,r=1;for(n._scale=[i];r<=t;++r)n._scale.push(i*=u)},setMaxZoom:function(n){var t=this;return t._minZoom=g,t._maxZoom=r(n,t._minZoom,h.MAX_VALUE,nt),t._setupScaling(),t._zoom>t._maxZoom&&t.setZoom(t._maxZoom),t},getMinZoom:function(){return 1},getMaxZoom:function(){return this._maxZoom},getCenter:function(){return[this._center[0],this._center[1]]},setCenter:function(n){n=n||[];var t=this;return t._center=[r(u(n[0],n.lon),t._minBound[0],t._maxBound[0],t._defaultCenter[0]),r(u(n[1],n.lat),t._minBound[1],t._maxBound[1],t._defaultCenter[1])],t._adjustCenter(),t},setCenterByPoint:function(n,t){var i=this,r=i._project(n),u=i._fromScreen(t);return i.setCenter(i._unproject([-u[0]/i._zoom+r[0],-u[1]/i._zoom+r[1]]))},moveCenter:function(n,t){var i=this,r=i._toScreen(i._toTransformed(i._project(i._center))),u=i._unproject(i._fromTransformed(i._fromScreen([r[0]+n,r[1]+t])));return i.setCenter(u)},getViewport:function(){var n=this._unproject(this._fromTransformed([-1,-1])),t=this._unproject(this._fromTransformed([1,1]));return[n[0],n[1],t[0],t[1]]},setViewport:function(n){var i=this,c=it(n||[],i._minBound,i._maxBound),r=i._project(c[0]),u=i._project(c[1]),f=w(r[0],u[0]),o=w(r[1],u[1]),s=e(r[0],u[0]),h=e(r[1],u[1]),t=2/e(s-f,h-o),l=-1-t*f,a=1-t*s,v=-1-t*o,y=1-t*h,p=f<=-1?a:s>=1?l:(l+a)/2,b=o<=-1?y:h>=1?v:(v+y)/2;return i.setZoom(t).setCenter(i._unproject([-p/t,-b/t]))},getTransform:function(){return{translateX:this._dxcenter*this._xradius,translateY:this._dycenter*this._yradius}},fromScreenPoint:function(n,t){return this._unproject(this._fromTransformed(this._fromScreen([n,t])))},fromScreenPointStrict:function(n,t){var i=this,r=i._fromTransformed(i._fromScreen([n,t])),u=i._unproject(r);return[r[0]>=i._minv[0]&&r[0]<=i._maxv[0]?u[0]:NaN,r[1]>=i._minv[1]&&r[1]<=i._maxv[1]?u[1]:NaN]},snapCenter:function(){return this._snappedCenter=this.getCenter(),this},isCenterChanged:function(){var n=this.getCenter();return!p(this._snappedCenter[0],n[0])||!p(this._snappedCenter[1],n[1])},snapZoom:function(){return this._snappedZoom=this.getZoom(),this},isZoomChanged:function(){return!p(this._snappedZoom,this.getZoom())}});n.viz.map.Map.prototype._factory.createProjection=function(){return new ct}}(DevExpress),function(n,t){function u(n){delete n._owner,n.update=function(){},n.finish=function(){}}function a(n,t){this._owner=n,this._x=t.x,this._y=t.y,this._owner._beginMove()}function v(n,t){this._owner=n,this._command=t.data}function y(n,t){function u(){n._move(i,r),f=b(u,e)}this._command=t.data;var f=null,e=100,i=0,r=0;switch(this._command){case o:r=-10;break;case s:i=10;break;case h:r=10;break;case c:i=-10}this._stop=function(){return k(f),n._endMove(),this._stop=n=u=null,this},t=null,n._beginMove(),u()}function p(n,t){function i(){n._adjustZoom(n._zoomFactor+f),r=b(i,u)}this._owner=n,this._command=t.data;var r=null,u=150,f=this._command===l?1:-1;this._stop=function(){return k(r),this._stop=n=i=null,this},t=null,i()}function w(n,t){this._owner=n,this._zoomFactor=n._zoomFactor,this._pos=t.y}var f=n.viz.renderers.buildPath,b=setTimeout,k=clearTimeout,e=Math.round,it=Math.pow,rt=Math.log,r=n.viz.map._utils.setElementData,ut=Math.LN2,d="command-reset",o="command-move-up",s="command-move-right",h="command-move-down",c="command-move-left",l="command-zoom-in",g="command-zoom-out",nt="command-zoom-drag",i={},tt;i[d]=v,i[o]=i[s]=i[h]=i[c]=y,i[l]=i[g]=p,i[nt]=w,tt=n.Class.inherit({ctor:function(n){var t=this;t._container=n.container,t._createElements(n.renderer);var i=n.context,r=n.resetCallback,e=n.beginMoveCallback,o=n.endMoveCallback,u=n.moveCallback,f=n.zoomCallback;n=null,t._reset=function(){r.call(i)},t._beginMove=function(){e.call(i)},t._endMove=function(){o.call(i)},t._move=function(n,t){u.call(i,n,t)},t._zoom=function(n,t,r){f.call(i,n,t,r)},t._dispose=function(){this._reset=this._move=this._zoom=this._dispose=i=r=u=f=null}},_createElements:function(n){var t=this,i;t._root=n.createGroup({"class":"dxm-control-bar"}),t._buttonsGroup=n.createGroup({"class":"dxm-control-buttons"}).append(t._root),t._trackersGroup=n.createGroup({stroke:"none",strokeWidth:0,fill:"#000000",opacity:.0001,cursor:"pointer"}).append(t._root),i={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incdecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},t._createButtons(n,i),t._createTrackers(n,i),t._root.applySettings({translateX:50.5,translateY:50.5})},_createButtons:function(n,t){var i=this._buttonsGroup,r=t.buttonSize/2,u=t.arrowButtonOffset-r,o=t.arrowButtonOffset,e=t.incdecButtonSize/2;n.createCircle(0,0,t.bigCircleSize/2).append(i),n.createCircle(0,0,r).append(i),n.createPath([-r,-u,0,-o,r,-u]).append(i),n.createPath([u,-r,o,0,u,r]).append(i),n.createPath([r,u,0,o,-r,u]).append(i),n.createPath([-u,r,-o,0,-u,-r]).append(i),n.createCircle(0,t.incButtonOffset,t.smallCircleSize/2).append(i),n.createSimplePath({d:f([-e,t.incButtonOffset,e,t.incButtonOffset])+" "+f([0,t.incButtonOffset-e,0,t.incButtonOffset+e])}).append(i),n.createCircle(0,t.decButtonOffset,t.smallCircleSize/2).append(i),n.createSimplePath({d:f([-e,t.decButtonOffset,e,t.decButtonOffset])}).append(i),n.createSimplePath({d:f([0,t.sliderLineStartOffset,0,t.sliderLineEndOffset])}).append(i),this._zoomDrag=n.createRect(-t.sliderLength/2,t.sliderLineEndOffset-t.sliderWidth/2,t.sliderLength,t.sliderWidth).append(i),this._sliderLineLength=t.sliderLineEndOffset-t.sliderLineStartOffset},_createTrackers:function(n,t){var f=this._trackersGroup,u=e((t.arrowButtonOffset-t.trackerGap)/2),v=t.arrowButtonOffset-u,y=e(it(t.bigCircleSize*t.bigCircleSize/4-u*u,.5)),a=y-v,i;i=n.createRect(-u,-u,u*2,u*2).append(f),r(i.$element,{index:d,type:"control-bar"}),i=n.createRect(-u,-y,u*2,a).append(f),r(i.$element,{index:o,type:"control-bar"}),i=n.createRect(v,-u,a,u*2).append(f),r(i.$element,{index:s,type:"control-bar"}),i=n.createRect(-u,v,u*2,a).append(f),r(i.$element,{index:h,type:"control-bar"}),i=n.createRect(-y,-u,a,u*2).append(f),r(i.$element,{index:c,type:"control-bar"}),i=n.createCircle(0,t.incButtonOffset,t.smallCircleSize/2).append(f),r(i.$element,{index:l,type:"control-bar"}),i=n.createCircle(0,t.decButtonOffset,t.smallCircleSize/2).append(f),r(i.$element,{index:g,type:"control-bar"}),i=this._zoomDragCover=n.createRect(-t.sliderLength/2,t.sliderLineEndOffset-t.sliderWidth/2,t.sliderLength,t.sliderWidth).append(f),r(i.$element,{index:nt,type:"control-bar"})},dispose:function(){var n=this;return delete n._container,n._dispose(),n._root.clear(),delete n._root,delete n._buttonsGroup,delete n._zoomDrag,delete n._zoomDragCover,n},setZoomPartition:function(n){return this._zoomPartition=n,this._sliderUnitLength=this._sliderLineLength/n,this},setZoom:function(n){return this._adjustZoom(n),this},setOptions:function(n,i){return n=n||{},i=i||{},this._dragAndZoomEnabled=i.dragAndZoomEnabled!==t?!!i.dragAndZoomEnabled:!0,this._enabled=this._dragAndZoomEnabled&&(n.enabled!==t?!!n.enabled:!0),this._buttonsGroup.applySettings(n.shape),this},clean:function(){return this._enabled&&this._root.detach(),this},render:function(){return this._enabled&&this._root.append(this._container),this},_adjustZoom:function(n){var t=this,i;t._zoomFactor=e(n),t._zoomFactor>=0||(t._zoomFactor=0),t._zoomFactor<=t._zoomPartition||(t._zoomFactor=t._zoomPartition),i={translateY:-t._zoomFactor*t._sliderUnitLength},t._zoomDrag.applySettings(i),t._zoomDragCover.applySettings(i)},_applyZoom:function(n,t){this._zoom(this._zoomFactor,n,t)},processStart:function(n){if(this._dragAndZoomEnabled){var t=i[n.data]||a;this._command=new t(this,n)}return this},processMove:function(n){return this._dragAndZoomEnabled&&this._command.update(n),this},processEnd:function(n){return this._dragAndZoomEnabled&&this._command.finish(n),this},processZoom:function(n){var t=this,i;return t._dragAndZoomEnabled&&(n.delta?i=n.delta:n.ratio&&(i=rt(n.ratio)/ut),t._adjustZoom(t._zoomFactor+i),t._applyZoom(n.x,n.y)),t}}),a.prototype.update=function(n){var t=this;t._owner._move(t._x-n.x,t._y-n.y),t._x=n.x,t._y=n.y},a.prototype.finish=function(){this._owner._endMove(),u(this)},v.prototype.update=function(n){n.data!==this._command&&u(this)},v.prototype.finish=function(){this._owner._reset(),this._owner._adjustZoom(0),u(this)},y.prototype.update=function(n){this._command!==n.data&&this.finish()},y.prototype.finish=function(){u(this._stop())},p.prototype.update=function(n){this._command!==n.data&&this.finish()},p.prototype.finish=function(){this._owner._applyZoom(),u(this._stop())},w.prototype.update=function(n){var t=this._owner;t._adjustZoom(this._zoomFactor+t._zoomPartition*(this._pos-n.y)/t._sliderLineLength)},w.prototype.finish=function(){this._owner._applyZoom(),u(this)},n.viz.map.Map.prototype._factory.createControlBar=function(n){return new tt(n)}}(DevExpress),function(n,t,i){function it(){var i=window,n=i.navigator.pointerEnabled,t=i.navigator.msPointerEnabled,e="ontouchstart"in i;r.start=f(n?"pointerdown":t?"MSPointerDown":e?"touchstart mousedown":"mousedown",u),r.move=f(n?"pointermove":t?"MSPointerMove":e?"touchmove mousemove":"mousemove",u),r.end=f(n?"pointerup":t?"MSPointerUp":e?"touchend mouseup":"mouseup",u),r.over=f(n?"pointerover":t?"MSPointerOver":"mouseover",u),r.out=f(n?"pointerout":t?"MSPointerOut":"mouseout",u),r.wheel=f("mousewheel DOMMouseScroll",u)}function s(n){var t=n.originalEvent,i=t.touches?t.touches[0]:{};return{x:i.pageX||t.pageX||n.pageX,y:i.pageY||t.pageY||n.pageY}}function rt(n){return n.originalEvent.pointerId||1}function c(n,t,r){var u=n.originalEvent,f;return u.pointerId!==i?f=!!r==(u.pointerId===t)&&u:u.touches&&(f=u.touches[r]),f?{x:f.pageX,y:f.pageY}:null}function d(n,t,i,r){return g((n-i)*(n-i)+(t-r)*(t-r))}var f=n.ui.events.addNamespace,e=function(n){var t=n.originalEvent.type,i=n.originalEvent.pointerType;return/^touch/.test(t)||/^MSPointer/.test(t)&&i!==4||/^pointer/.test(t)&&i!=="mouse"},h=Math.abs,g=Math.sqrt,a=t.now,v=setTimeout,o=clearTimeout,nt=n.viz.map._utils.getElementData,l=t(document),u="dxVectorMap",r={},y=300,p=300,tt=400,w=300;it();var ut="start",ft="move",et="end",b="zoom",ot="hover-on",k="hover-off",st="click",ht="tooltip-check",ct="tooltip-show",lt="tooltip-hide",at="tooltip-move",vt=n.Class.inherit({ctor:function(){var n=this;n._groups={},n._createCallbacks(),n.reset()},dispose:function(){var n=this;return n._dispose(),n._groups=n._context=n._callbacks=null,n},reset:function(){var n=this;n._processEnd(),n._processHoverOff(),n._hideTooltipCore(),o(n._tooltip_showTimeout),o(n._tooltip_hideTimeout),n._touchLock=n._click_time=n._tooltip_showTimeout=n._tooltip_hideTimeout=null},_createCallbacks:function(){var n=this;n._rootEvents={},n._rootEvents[r.start]=function(t){var i=e(t);(!i||n._touchEnabled)&&(t.preventDefault(),n._touchLock?(n._zooming=!0,n._processZoomStart(t)):(n._processStart(t),n._processClickStart(t),i&&n._processTooltipRootTouchStart(t)),n._touchLock=i)},n._documentEventsMoveEnd={},n._documentEventsMoveEnd[r.move]=function(t){var i=e(t);n._touchLock===i&&(n._zooming?n._processZoomMove(t):n._processMove(t))},n._documentEventsMoveEnd[r.end]=function(t){var i=e(t);n._touchLock===i&&(n._touchLock=null,n._zooming&&n._processZoomEnd(t),n._processClickEnd(t),n._processEnd(t),n._zooming=null)},n._rootEvents[r.wheel]=function(t){n._wheelEnabled&&(t.preventDefault(),n._processWheel(t))},n._groupEvents={},n._groupEvents[r.start]=function(t){var i=e(t);(!i||n._touchEnabled)&&i&&n._processTooltipTouchStart(t)},n._groupEvents[r.over]=function(t){if(!n._touchLock&&!e(t)){if(n._hover_event&&n._hover_event.target===t.target)return;n._processHoverOn(t),n._processTooltipMouseOver(t)}},n._groupEvents[r.out]=function(r){if(!n._touchLock&&!e(r)){if(nt(t(r.target))===i)return;n._processHoverOff(),n._processTooltipMouseOut(r)}},n._groupTooltipEventsMouseMove={},n._groupTooltipEventsMouseMove[r.move]=function(t){n._processTooltipMouseMove(t)},n._groupTooltipEventsTouchMoveEnd={},n._groupTooltipEventsTouchMoveEnd[r.move]=function(t){n._processTooltipTouchMove(t)},n._groupTooltipEventsTouchMoveEnd[r.end]=function(t){n._processTooltipTouchEnd(t)},n._showTooltipCallback=function(){n._showTooltipCore()},n._hideTooltipCallback=function(){n._hideTooltipCore()},n._dispose=function(){var n=this;n=n._dispose=n._rootEvents=n._documentEventsMoveEnd=n._groupEvents=n._groupTooltipEventsMouseMove=n._groupTooltipEventsTouchMoveEnd=n._showTooltipCallback=n._hideTooltipCallback=null}},_processStart:function(n){var i=this,r=s(n);i._start_x=i._x=r.x,i._start_y=i._y=r.y,i._move_event=n,i._callbacks[ut].call(i._context,{$target:t(n.target),x:i._x,y:i._y});l.off(i._documentEventsMoveEnd).on(i._documentEventsMoveEnd,n.data)},_processMove:function(n){var i=this,r=s(n);(i._moving||h(i._start_x-r.x)>3||h(i._start_y-r.y)>3)&&(i._moving=!0,i._x=r.x,i._y=r.y,i._move_event=n,i._callbacks[ft].call(i._context,{$target:t(n.target),x:i._x,y:i._y}))},_processEnd:function(n){var i=this;l.off(i._documentEventsMoveEnd),n=n||i._move_event,i._move_event&&i._callbacks[et].call(i._context,{$target:t(n.target),x:i._x,y:i._y}),i._moving=i._start_x=i._start_y=i._x=i._y=i._move_event=null},_processZoomStart:function(n){var t=this,i;t._second_id=rt(n),i=c(n,t._second_id,0),i&&(t._start_x=t._x=i.x,t._start_y=t._y=i.y),i=c(n,t._second_id,1),i&&(t._second_start_x=t._second_x=i.x,t._second_start_y=t._second_y=i.y)},_processZoomMove:function(n){var i=this,t;t=c(n,i._second_id,0),t&&(i._x=t.x,i._y=t.y),t=c(n,i._second_id,1),t&&(i._second_x=t.x,i._second_y=t.y)},_processZoomEnd:function(n){var i=this,r=d(i._start_x,i._start_y,i._second_start_x,i._second_start_y),u=d(i._x,i._y,i._second_x,i._second_y);i._callbacks[b].call(i._context,{$target:t(n.target),ratio:u/r,x:(i._start_x+i._second_start_x)/2,y:(i._start_y+i._second_start_y)/2}),i._start_x=i._start_y=i._x=i._y=i._second_start_x=i._second_start_y=i._second_id=i._second_x=i._second_y=null},_processWheel:function(n){var r=s(n),i=n.originalEvent.wheelDelta/120||n.originalEvent.detail/-3||0;i=0<i&&i<1?1:i,i=0>i&&i>-1?-1:i,this._callbacks[b].call(this._context,{$target:t(n.target),delta:i,x:r.x,y:r.y})},_processHoverOn:function(n){var i=this;i._hover_event&&i._callbacks[k].call(i._context,{$target:t(i._hover_event.target),category:i._hover_event.data.category}),i._hover_event=n,i._callbacks[ot].call(i._context,{$target:t(i._hover_event.target),category:i._hover_event.data.category})},_processHoverOff:function(){var i=this;i._hover_event&&i._callbacks[k].call(i._context,{$target:t(i._hover_event.target),category:i._hover_event.data.category}),i._hover_event=null},_processClickStart:function(){this._click_time=a()},_processClickEnd:function(n){var i=this;i._click_time&&!i._moving&&a()-i._click_time<=500&&i._callbacks[st].call(i._context,{$target:t(n.target),x:i._x,y:i._y,$event:n}),i._click_time=null},_processTooltipMouseOver:function(n){var t=this,i;if(t._tooltipEnabled&&t._isTooltipAvailable(n)){i=s(n),t._tooltip_x=i.x,t._tooltip_y=i.y;n.data.container.off(t._groupTooltipEventsMouseMove).on(t._groupTooltipEventsMouseMove,n.data);t._showTooltip(t._tooltip_target?null:y)}},_processTooltipMouseMove:function(n){var t=this,i;t._isTooltipAvailable(n)?t._tooltip_target?t._showTooltip():(i=s(n),(h(t._tooltip_x-i.x)>3||h(t._tooltip_y-i.y)>3)&&t._showTooltip(y)):(n.data.container.off(t._groupTooltipEventsMouseMove),t._hideTooltip(p))},_processTooltipMouseOut:function(n){this._tooltipEnabled&&(n.data.container.off(this._groupTooltipEventsMouseMove),this._hideTooltip(p))},_processTooltipTouchStart:function(n){var t=this;if(t._tooltipEnabled&&t._isTooltipAvailable(n)){t._showTooltip(tt);n.data.container.off(t._groupTooltipEventsTouchMoveEnd).on(t._groupTooltipEventsTouchMoveEnd,n.data);t._skipTouchStart=!0}},_processTooltipRootTouchStart:function(){this._skipTouchStart||this._hideTooltip(w),this._skipTouchStart=null},_processTooltipTouchMove:function(n){this._moving&&(this._hideTooltip(),n.data.container.off(this._groupTooltipEventsTouchMoveEnd))},_processTooltipTouchEnd:function(n){this._tooltip_showTimeout&&this._hideTooltip(w),n.data.container.off(this._groupTooltipEventsTouchMoveEnd)},_isTooltipAvailable:function(n){var i=this,r=!i._moving;return r&&(!i._tooltip_event||i._tooltip_event.target!==n.target)&&(r=i._callbacks[ht].call(i._context,{$target:t(n.target),category:n.data.category})),i._tooltip_event=n,r},_showTooltip:function(n){var t=this;o(t._tooltip_hideTimeout),t._tooltip_hideTimeout=null,o(t._tooltip_showTimeout),n>0?t._tooltip_showTimeout=v(t._showTooltipCallback,n):t._showTooltipCallback()},_hideTooltip:function(n){var t=this;o(t._tooltip_showTimeout),t._tooltip_showTimeout=null,n>0?t._tooltip_hideTimeout=t._tooltip_hideTimeout||v(t._hideTooltipCallback,n):(o(t._tooltip_hideTimeout),t._hideTooltipCallback())},_showTooltipCore:function(){var n=this,i=n._tooltip_event,r=s(i);n._tooltip_target||n._callbacks[ct].call(n._context,{$target:t(i.target),category:i.data.category}),n._tooltip_target=i.target,n._callbacks[at].call(n._context,{$target:t(n._tooltip_target),category:i.data.category,x:r.x,y:r.y}),n._tooltip_showTimeout=null},_hideTooltipCore:function(){var n=this,i=n._tooltip_event;n._tooltip_target&&n._callbacks[lt].call(n._context,{$target:t(n._tooltip_target),category:i.data.category}),n._tooltip_target=n._tooltip_hideTimeout=n._tooltip_event=null},attachRoot:function(n){return this._root=n,this},detachRoot:function(){return this._root=null,this},attachGroup:function(n,t){return this._groups[n]=t,this},detachGroup:function(n){return this._groups[n]=null,this},setCallbacks:function(n,t){return this._context=n,this._callbacks=t,this},setOptions:function(n,t){n=n||{};var i=this;return i._touchEnabled="touchEnabled"in n?!!n.touchEnabled:!0,i._wheelEnabled="wheelEnabled"in n?!!n.wheelEnabled:!0,i._tooltipEnabled=t,i},render:function(){var n=this,i,t;if(n._touchEnabled){n._root.on(f("MSHoldVisual",u),function(n){n.preventDefault()}).on(f("contextmenu",u),function(n){e(n)&&n.preventDefault()});n._root.applySettings({style:{"touch-action":"none","-ms-touch-action":"none","-webkit-user-select":"none"}})}n._root.on(n._rootEvents,{container:n._root});for(i in n._groups)t=n._groups[i],t&&t.on(n._groupEvents,{category:i,container:t});return n},clean:function(){var n=this,i,t;n._touchEnabled&&n._root.applySettings({style:{"touch-action":"","-ms-touch-action":"","-webkit-user-select":""}}),n._root.off("."+u),l.off(n._documentEventsMoveEnd);for(i in n._groups)t=n._groups[i],t&&t.off("."+u);return n.reset(),n}});n.viz.map.Map.prototype._factory.createTracker=function(){return new vt}}(DevExpress,jQuery),function(n,t,i){var u=Number,r=t.extend,f=t.each,e=n.viz.core.BaseThemeManager.inherit({_themeSection:"map",_initializeTheme:function(){var n=this;n._initializeFont(n._theme.marker.font),n._initializeFont(n._theme.tooltip.font),n._initializeFont(n._theme.legend.font),n._initializeFont(n._theme.loadingIndicator.font)},dispose:function(){var n=this;return n.callBase.apply(n,arguments),n._areasPalette=n._markersPalette=null,n},getBackgroundSettings:function(n){var i=this._theme.background,t=r({},i,n);return{strokeWidth:t.borderWidth,stroke:t.borderColor,fill:t.color}},getCommonAreaSettings:function(t){var i=r({},this._theme.area,t);return this._areasPalette=new n.viz.core.GradientPalette(i.palette,i.paletteSize),i},getAreaSettings:function(n,t){t=t||{};var f=r({},n,t);return f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,t.color===i&&t.paletteIndex>=0&&(f.color=this._areasPalette.getColor(t.paletteIndex)),f.color=f.color||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f},getCommonMarkerSettings:function(t){t=t||{};var i=this._theme.marker,u={};return f(i,function(n){if(n[0]==="#"){var f=i[n]||{},e=t[n]||{},o=r({},i,f,t,e);o.font=r({},i.font,f.font,t.font,e.font),u[n.substr(1)]=o}}),this._markersPalette=new n.viz.core.Palette(t.palette||i.palette,{stepHighlight:50,theme:this.themeName()}),u},getMarkerSettings:function(n,t,i){t=t||{};var e=n[i],f=r({},e,t);return f.font=r({},e.font,t.font),f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,f.color=f.color||null,f.opacity=f.opacity||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.hoveredOpacity=f.hoveredOpacity||f.opacity,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f.selectedOpacity=f.selectedOpacity||f.opacity,f},getMarkerColors:function(n){for(var t=0,i=[];t<n;++t)i.push(this._markersPalette.getNextColor());return this._markersPalette.reset(),i},getControlBarSettings:function(n){var i=this._theme.controlBar,t=r({},i,n);return r({},n,{shape:{strokeWidth:t.borderWidth,stroke:t.borderColor,fill:t.color}})},getLoadIndicatorSettings:function(n){var t=this._theme.loadingIndicator;return r(!0,{},t,n)},getTooltipSettings:function(n){var i=this._theme.tooltip,t=r({},i,n),u=r({},i.border,n&&n.border,n&&!n.border&&{color:n.borderColor});return r({},n,{color:t.color,border:u,text:{strokeWidth:0,stroke:"none",fill:"none",font:r({},i.font,t.font),"class":"dxm-tooltip-text"},arrowLength:t.arrowLength,paddingLeftRight:t.paddingLeftRight,paddingTopBottom:t.paddingTopBottom,opacity:t.opacity,shadow:r({},i.shadow,t.shadow)})},getLegendSettings:function(n){return r(!0,{},this._theme.legend,n)},getLegendItemSettings:function(n){var t=n.color;return t===i&&n.paletteIndex>=0&&(t=this._areasPalette.getColor(n.paletteIndex)),{text:n.text,color:t}},patchRtlSettings:function(n){var i=this._theme;(n||i.rtlEnabled&&n!==!1)&&t.extend(!0,i,i._rtl)}});n.viz.map.Map.prototype._factory.createThemeManager=function(){return new e}}(DevExpress,jQuery),function(n,t){var o=String,s=n.utils.isString,h=n.utils.isArray,f=n.utils.isFunction,u="none",r="single",e="multiple",c=n.Class.inherit({_rootClass:null,_trackerCategory:null,ctor:function(n){var t=this;t._container=n.container,t._renderer=n.renderer,t._projection=n.projection,t._themeManager=n.themeManager,t._tracker=n.tracker,t._ready=n.ready,t._root=t._renderer.createGroup({"class":t._rootClass}),t._tracker.attachGroup(t._trackerCategory,t._root),t._items=[]},dispose:function(){var n=this;return n._tracker.detachGroup(n._trackerCategory),n._container=n._renderer=n._projection=n._themeManager=n._tracker=n._ready=n._root=n._source=n._readyCallback=null,n},clean:function(){var n=this;return n._rendered=!1,n._root.detach(),n._customizeCallback=n._clickCallback=n._selectionChangedCallback=null,n._destroyItems(),n},render:function(n){var t,i;return n=n||{},t=this,t._rendered=!0,t._customizeCallback=f(n.customize)?n.customize:null,t._clickCallback=f(n.click)?n.click:null,t._selectionChangedCallback=f(n.selectionChanged)?n.selectionChanged:null,t._hoverEnabled="hoverEnabled"in n?!!n.hoverEnabled:!0,i=o(n.selectionMode).toLowerCase(),t._selectionMode=i===u||i===r||i===e?i:r,t._root.append(t._container),t._source!==null&&t._createItems(),t},_destroyItems:function(){var n=this,i=n._items,t=0,r=i.length;for(n._root.clear();t<r;++t)i[t].dispose();n._items=[],n._selectedItems=null},_getDataItems:function(n){return n},_createItems:function(){var n=this;n._selectedItems=n._selectionMode===e?{}:null;for(var f=n._getDataItems(n._source),t=0,o=h(f)?f.length:0,c,s,i=[];t<o;++t)s={index:t},c=n._createItem(f[t],s),n._items.push(c),s.selected&&i.push(t);if(n._selectionMode!==u&&i.length>0)for(n._selectionMode===r&&(i=[i[i.length-1]]),t=0,o=i.length;t<o;++t)n.selectItem(i[t],!0,!0);n._arrangeItems(),n._ready&&n._ready()},_createItem:null,_arrangeItems:function(){},setData:function(n){function r(n){i._source=n||0,i._rendered&&(i._tracker.reset(),i._destroyItems(),i._createItems())}var i=this;return i._source=null,s(n)?t.getJSON(n).done(r).fail(function(n,t,i){r(i)}):r(n),i},transform:function(n){return this._root.applySettings(n),this},redraw:function(){for(var t=this._items,n=0,i=t.length;n<i;++n)t[n].locate();return this},hoverItem:function(n,t){return this._hoverEnabled&&this._items[n].setHovered(!!t),this},_raiseSelectionChanged:function(n){var t=this;t._selectionChangedCallback&&setTimeout(function(){t._selectionChangedCallback&&t._selectionChangedCallback.call(n.proxy,n.proxy)},0)},selectItem:function(n,t,i){var f=this,e,o;return f._selectionMode===u?f:(e=f._items[n],o=e.selected,e.setSelected(!!t),e.selected===o)?f:(i||f._raiseSelectionChanged(e),e.selected&&f._selectionMode===r&&f._selectedItems&&(f._selectedItems.setSelected(!1),i||f._raiseSelectionChanged(f._selectedItems),f._selectedItems=null),f._selectionMode===r?f._selectedItems=e.selected?e:null:e.selected?f._selectedItems[n]=e:delete f._selectedItems[n],f)},clearSelection:function(){var n=this,t,i;if(n._selectionMode===u)return n;if(n._selectionMode===r)n._selectedItems&&(n._selectedItems.setSelected(!1),n._raiseSelectionChanged(n._selectedItems),n._selectedItems=null);else for(t in n._selectedItems)n._selectedItems[t].setSelected(!1),n._raiseSelectionChanged(n._selectedItems[t]),delete n._selectedItems[t];return n},raiseClick:function(n,t){var i=this,r=i._items[n];return i._clickCallback&&setTimeout(function(){i._clickCallback&&i._clickCallback.call(r.proxy,r.proxy,t)},0),i},getProxyItems:function(){for(var t=this._items,n=0,r=t.length,i=[];n<r;++n)i.push(t[n].proxy);return i},getProxyItem:function(n){return this._items[n].proxy}});n.viz.map.Map.prototype._factory.MapItemsManager=c}(DevExpress,jQuery),function(n,t,i){function e(n){return this._projection.projectArea(n.coordinates)}function o(n){var t,i;return n.geometry&&(i=n.geometry.type,t=n.geometry.coordinates,t&&(i==="Polygon"||i==="MultiPolygon")&&i==="MultiPolygon"&&(t=[].concat.apply([],t))),this._projection.projectArea(t)}function s(n){return n.attributes}function h(n){return n.properties}function r(n,t,i,r,u){var f=this;f._manager=n,f._index=t,f._coords=i,f.hovered=f.selected=!1,f._styles={normal:{"class":"dxm-area",stroke:u.borderColor,strokeWidth:u.borderWidth,fill:u.color},hovered:{"class":"dxm-area dxm-area-hovered",stroke:u.hoveredBorderColor,strokeWidth:u.hoveredBorderWidth,fill:u.hoveredColor},selected:{"class":"dxm-area dxm-area-selected",stroke:u.selectedBorderColor,strokeWidth:u.selectedBorderWidth,fill:u.selectedColor}},f._element=n._renderer.createSimplePath(f._styles.normal).data("index",{index:t,type:"area"}).append(n._root),f.proxy=new c(f,r),f.locate()}function c(n,t){var r=this;r.type="area",r.attribute=function(n){return n!==i?t[n]:f({},t)},r.selected=function(t,r){return t!==i?(n.selected!==!!t&&n._manager.selectItem(n._index,!!t,r),this):n.selected},r._dispose=function(){n=t=r.attribute=r.selected=r._dispose=null}}var f=t.extend,u=n.viz.map.Map.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-areas",_trackerCategory:"areas",dispose:function(){return this._project=this._getAttributes=null,this.callBase.apply(this,arguments)},clean:function(){return this._commonSettings=null,this.callBase.apply(this,arguments)},render:function(n){return this._commonSettings=this._themeManager.getCommonAreaSettings(n||{}),this.callBase.apply(this,arguments)},_getDataItems:function(n){return n&&n.type==="FeatureCollection"?(n=n.features,this._project=o,this._getAttributes=h):(this._project=e,this._getAttributes=s),n},_createItem:function(n,t){var i,r;n=n||{},i=this,r=(i._customizeCallback?i._customizeCallback.call(n,n):null)||{},r=i._themeManager.getAreaSettings(i._commonSettings,r);var f=i._project(n),u=i._getAttributes(n)||{},e=new i._areaType(i,t.index,f,u,r);return t.selected=u.isSelected||r.isSelected,e}}),l=t.noop;r.prototype={constructor:r,dispose:function(){var n=this;return n.proxy._dispose(),n._manager=n._element=n.proxy=null,n},locate:function(){return this._element.applySettings({d:this._manager._projection.getAreaCoordinates(this._coords)}),this},setHovered:function(n){var t=this;return t.hovered=!!n,t.selected||t._element.applySettings(t._styles[t.hovered?"hovered":"normal"])[t.hovered?"toForeground":"toBackground"](),t},setSelected:function(n){var t=this;return t.selected=!!n,t.selected?t._element.applySettings(t._styles.selected).toForeground():t.setHovered(t.hovered),t}},u.prototype._areaType=r,n.viz.map.Map.prototype._factory.createAreasManager=function(n){return new u(n)}}(DevExpress,jQuery),function(n,t,i){function a(n,t){return u[n]&&n||t||k}function rt(n,t,u){var f=this;f.type="marker",f.attribute=function(n){return n!==i?u[n]:e({},u)},f.coordinates=function(){return[r(t[0]),r(t[1])]},f.selected=function(t,r){return t!==i?(n.selected!==!!t&&n._manager.selectItem(n._index,!!t,r),this):n.selected},f._dispose=function(){n=u=f.attribute=f.selected=f._dispose=null}}var r=Number,ut=String,s=isFinite,h=Math.round,v=Math.max,y=Math.min,e=t.extend,p=n.utils.isArray,o=n.viz.renderers.processCircleSettings,c="dxm-marker",w="dxm-marker dxm-marker-hovered",b="dxm-marker dxm-marker-selected",l={stroke:"none",strokeWidth:0,fill:"#000000",opacity:.0001},k="dot",u={},d=n.viz.map.Map.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-markers",_trackerCategory:"markers",ctor:function(){var n=this;n.callBase.apply(n,arguments),n._filter=n._renderer.createFilter("shadow").applySettings({x:"-40%",y:"-40%",width:"180%",height:"200%",color:"#000000",opacity:.2,dx:0,dy:1,blur:1}).append()},dispose:function(){return this._filter.dispose(),this._filter=null,this.callBase.apply(this,arguments)},clean:function(){var n=this;return n._commonSettings=null,n.callBase.apply(n,arguments)},render:function(n){var t=this;return t._commonSettings=t._themeManager.getCommonMarkerSettings(n),t._commonType=a(n&&n.type),t.callBase.apply(t,arguments)},_arrangeBubbles:function(){for(var f=this._items,i=[],r=f.length,n,u=[],t=0;t<r;++t)n=f[t],n.type==="bubble"&&(i.push(n),n.value!==null&&u.push(n.value));var e=y.apply(null,u),o=v.apply(null,u),s=o-e||1;for(t=0,r=i.length;t<r;++t)n=i[t],n.setSize(n.value!==null?(n.value-e)/s:0)},_createItem:function(n,t){var o;n=n||{};var i=this,r=e(n.style||{},i._customizeCallback?i._customizeCallback.call(n,n):null),f=a(n.type,i._commonType);return r=i._themeManager.getMarkerSettings(i._commonSettings,r,f),n=e({},n,{text:n.text||r.text}),o=new u[f](i,t.index,n,r),t.selected=n.isSelected||r.isSelected,o},_arrangeItems:function(){this._arrangeBubbles()},addMarker:function(n){var t=this,i=t._items.length,r=t._createItem(n,i);return t._items.push(r),r._selected&&t.selectItem(i,!0,!0),t._arrangeItems(),t}}),f=n.Class.inherit({ctor:function(n,t,i,r){var u=this;u._manager=n,u._index=t,u._data={index:t,type:"marker"},u._coords=u._manager._projection.projectPoint(i.coordinates),u._root=n._renderer.createGroup({"class":c}).append(n._root),u.hovered=u.selected=!1,u._create(i,r),u._createText(i,r),u.locate(),u.proxy=new rt(u,i.coordinates||[],i.attributes||{})},_create:null,_createText:function(n,t){var r=this;if(n.text){var o=r._root.getBBox(),u=r._manager._renderer.createText(n.text,0,0,{align:"center",font:t.font}).append(r._root),i=u.getBBox(),f=h(-i.x+o.width/2)+2,e=h(-i.y-i.height/2)-1;u.applySettings({x:f,y:e}),r._manager._renderer.createRect(f+i.x-1,e+i.y-1,i.width+2,i.height+2,0,l).data("index",r._data).append(r._root)}},dispose:function(){var n=this;return n._root.detach(),n._destroy(),n._destroyText(),n.proxy._dispose(),n._manager=n._root=n._styles=n.proxy=null,n},_destroy:null,_destroyText:function(){},locate:function(){var n=this._manager._projection.getPointCoordinates(this._coords);return this._root.applySettings({translateX:n.x,translateY:n.y}),this},_setDefaultState:null,_setHoveredState:null,_setSelectedState:null,setHovered:function(n){var t=this;return t.hovered=!!n,t.hovered&&t._root.toForeground(),t.selected||(t.hovered?(t._root.applySettings({"class":w}),t._setHoveredState()):(t._root.applySettings({"class":c}),t._setDefaultState())),t},setSelected:function(n){var t=this;return t.selected=!!n,t.selected?(t._root.applySettings({"class":b}),t._setSelectedState()):t.setHovered(t.hovered),t}}),g=f.inherit({type:"dot",_create:function(n,t){var i=this,f=t.size>0?r(t.size):0,e=f,s=f+(t.selectedStep>0?r(t.selectedStep):0),h=e+(t.backStep>0?r(t.backStep):0),c=s+(t.backStep>0?r(t.backStep):0),u=o(0,0,f,t.borderWidth);i._dotDefault={cx:u.cx,cy:u.cy,r:u.r,stroke:t.borderColor,strokeWidth:t.borderWidth,fill:t.color,filter:t.shadow?i._manager._filter.ref:null},i._dotHovered={cx:u.cx,cy:u.cy,r:e/2,stroke:t.hoveredBorderColor,strokeWidth:t.hoveredBorderWidth,fill:t.hoveredColor},i._dotSelected={cx:u.cx,cy:u.cy,r:s/2,stroke:t.selectedBorderColor,strokeWidth:t.selectedBorderWidth,fill:t.selectedColor},i._backDefault={cx:u.cx,cy:u.cy,r:u.r,stroke:"none",strokeWidth:0,fill:t.backColor,opacity:t.backOpacity},i._backHovered={cx:u.cx,cy:u.cy,r:h/2,stroke:"none",strokeWidth:0,fill:t.backColor,opacity:t.backOpacity},i._backSelected={cx:u.cx,cy:u.cy,r:c/2,stroke:"none",strokeWidth:0,fill:t.backColor,opacity:t.backOpacity},i._back=i._manager._renderer.createCircle().applySettings(i._backDefault).data("index",i._data).append(i._root),i._dot=i._manager._renderer.createCircle().applySettings(i._dotDefault).data("index",i._data).append(i._root)},_destroy:function(){this._back=this._dot=null},_setDefaultState:function(){this._back.applySettings(this._backDefault),this._dot.applySettings(this._dotDefault)},_setHoveredState:function(){this._back.applySettings(this._backHovered),this._dot.applySettings(this._dotHovered)},_setSelectedState:function(){this._back.applySettings(this._backSelected),this._dot.applySettings(this._dotSelected)}}),nt=f.inherit({type:"bubble",_create:function(n,t){var i=this;i._minSize=t.minSize>0?r(t.minSize):0,i._maxSize=t.maxSize>i._minSize?r(t.maxSize):i._minSize,i.value=s(n.value)?r(n.value):null,i._default={stroke:t.borderColor,strokeWidth:t.borderWidth,fill:t.color,opacity:t.opacity},i._hovered={stroke:t.hoveredBorderColor,strokeWidth:t.hoveredBorderWidth,fill:t.hoveredColor,opacity:t.hoveredOpacity},i._selected={stroke:t.selectedBorderColor,strokeWidth:t.selectedBorderWidth,fill:t.selectedColor,opacity:t.selectedOpacity},i._bubble=i._manager._renderer.createCircle(0,0,t.maxSize/2).applySettings(i._default).data("index",i._data).append(i._root)},_destroy:function(){this._bubble=null},_setDefaultState:function(){this._bubble.applySettings(this._default)},_setHoveredState:function(){this._bubble.applySettings(this._hovered)},_setSelectedState:function(){this._bubble.applySettings(this._selected)},setSize:function(n){var t=this,i=o(0,0,t._minSize+n*(t._maxSize-t._minSize),t._default.strokeWidth);return t._default.cx=t._hovered.cx=t._selected.cx=i.cx,t._default.cy=t._hovered.cy=t._selected.cy=i.cy,t._default.r=t._hovered.r=t._selected.r=i.r,t._bubble.applySettings(i),t}}),tt=f.inherit({type:"pie",_create:function(t,i){var u=this,h=o(0,0,i.size>0?r(i.size):0,i.borderWidth);u._pieDefault={opacity:i.opacity},u._pieHovered={opacity:i.hoveredOpacity},u._pieSelected={opacity:i.selectedOpacity},u._borderDefault={stroke:i.borderColor,strokeWidth:i.borderWidth},u._borderHovered={stroke:i.hoveredBorderColor,strokeWidth:i.hoveredBorderWidth},u._borderSelected={stroke:i.selectedBorderColor,strokeWidth:i.selectedBorderWidth};for(var l=u._manager._renderer,f=0,a=p(t.values)?t.values.length:0,c=[],e,y=0;f<a;++f)e=r(t.values[f]),s(e)&&(c.push(e),y+=e);u._pie=l.createGroup(u._pieDefault);var w=new n.viz.core.Translator1D(0,y,90,450),b=w.translate(0),v,k=u._manager._themeManager.getMarkerColors(c.length);for(e=0,f=0,a=c.length;f<a;++f)e+=c[f],v=w.translate(e),l.createArc(h.cx,h.cy,h.r,0,b,v,{fill:k[f]}).data("index",u._data).append(u._pie),b=v;u._pie.append(u._root),u._border=l.createCircle(h.cx,h.cy,h.r,u._borderDefault).data("index",u._data).append(u._root)},_destroy:function(){this._pie=this._border=null},_setDefaultState:function(){this._pie.applySettings(this._pieDefault),this._border.applySettings(this._borderDefault)},_setHoveredState:function(){this._pie.applySettings(this._pieHovered),this._border.applySettings(this._borderHovered)},_setSelectedState:function(){this._pie.applySettings(this._pieSelected),this._border.applySettings(this._borderSelected)}}),it=f.inherit({type:"image",_create:function(n,t){var i=this,u=t.size>0?r(t.size):0,f=u+(t.hoveredStep>0?r(t.hoveredStep):0),e=u+(t.selectedStep>0?r(t.selectedStep):0);i._default={x:-u/2,y:-u/2,width:u,height:u},i._hovered={x:-f/2,y:-f/2,width:f,height:f},i._selected={x:-e/2,y:-e/2,width:e,height:e},i._image=i._manager._renderer.createImage().applySettings(i._default).applySettings({href:n.url,location:"center"}).append(i._root),i._tracker=i._manager._renderer.createRect().applySettings(i._default).applySettings(l).data("index",i._data).append(i._root)},_destroy:function(){this._image=this._tracker=null},_setDefaultState:function(){this._image.applySettings(this._default),this._tracker.applySettings(this._default)},_setHoveredState:function(){this._image.applySettings(this._hovered),this._tracker.applySettings(this._hovered)},_setSelectedState:function(){this._image.applySettings(this._selected),this._tracker.applySettings(this._selected)}});u.dot=g,u.bubble=nt,u.pie=tt,u.image=it,n.viz.map.Map.prototype._factory.createMarkersManager=function(n){return new d(n)}}(DevExpress,jQuery),DevExpress.MOD_VIZ_VECTORMAP=!0}